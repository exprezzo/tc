function wijmoApplyWijTouchUtilEvents(e){function s(e,t){return new s.fn.init(e,t)}if(("ontouchstart"in window||"ontouchend"in document||!!window.navigator.msPointerEnabled)&&!e.supportWijTouch){var t,n,r={click:"wijtap",dblclick:"wijdoubletap",mouseenter:"wijmouseover",mouseover:"wijmouseover",mouseleave:"wijmouseout",mouseout:"wijmouseout",mousedown:"wijmousedown",mouseup:"wijmouseup",mousemove:"wijmousemove",mousecancel:"wijmousecancel",gesturestart:"wijgesturestart",gesturechange:"wijgesturechange",gestureend:"wijgestureend",swipeleft:"wijswipeleft",swiperight:"wijswiperight",swipe:"wijswipe"};t=function(e){return r[e.substr(1)]?" "+r[e.substr(1)]:e},n=function(e){if(typeof e=="string"){var n,i=0,s,o="";for(n in r)i===0?o+="(":o+="|",o+="[\\s]+"+n,i+=1;o+=")",e=" "+e,s=new RegExp(o,"g"),e=e.replace(s,t).substr(1)}return e};var i=e;i.extend(!0,s,i),s.superclass=i,s.fn=s.prototype=i(),s.fn.constructor=s,s.fn.init=function(t,n){return n&&n instanceof i&&!(n instanceof s)&&(n=s(n)),i.fn.init.call(this,t,n,o)},s.fn.init.prototype=s.fn;var o=s(document);return e=s,e.wijmo=e.wijmo||{},e.supportWijTouch=!0,e.fn.bind=function(){return arguments[0]=n(arguments[0]),i.fn.bind.apply(this,arguments)},e.fn.unbind=function(){return arguments[0]=n(arguments[0]),i.fn.unbind.apply(this,arguments)},e.fn.live=function(){return arguments[0]=n(arguments[0]),i.fn.live.apply(this,arguments)},e.fn.die=function(){return arguments[0]=n(arguments[0]),i.fn.die.apply(this,arguments)},e.fn.on=function(){return arguments[0]=n(arguments[0]),i.fn.on.apply(this,arguments)},e.fn.off=function(){return arguments[0]=n(arguments[0]),i.fn.off.apply(this,arguments)},e}return e}jQuery.extend(jQuery.support,{isTouchEnabled:function(){return"ontouchstart"in window||"ontouchend"in document||!!window.navigator.msPointerEnabled?!0:!1}}),function(e,t,n,r){function A(e){while(e&&typeof e.originalEvent!="undefined")e=e.originalEvent;return e}function O(t,n){var i=t.type,s,o,u,a,c,p,d,v;t=e.Event(t),t.nativeType=t.type,t.type=n,s=t.originalEvent,o=e.event.props,i.search(/^(mouse|click)/)>-1&&(o=h);if(s)for(d=o.length,a;d;)a=o[--d],t[a]=s[a];i.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),u=A(s);for(v=0,len=l.length;v<len;v++)a=l[v],t[a]===r&&(t[a]=u[a]);if(i.search(/^touch/)!==-1){i=u.touches,c=u.changedTouches,p=i&&i.length?i[0]:c&&c.length?c[0]:r;if(p)for(v=0,len=f.length;v<len;v++)a=f[v],t[a]=p[a]}return t}function M(t){var n={},r,s;while(t){r=e.data(t,i);for(s in r)r[s]&&(n[s]=n.hasVirtualBinding=!0);t=t.parentNode}return n}function _(t,n){var r;while(t){r=e.data(t,i);if(r&&(!n||r[n]))return t;t=t.parentNode}return null}function D(){w=!1}function P(){w=!0}function H(){T=0,y.length=0,b=!1,P()}function B(){D()}function j(){F(),d=setTimeout(function(){d=0,H()},e.wijmouse.resetTimerDuration)}function F(){d&&(clearTimeout(d),d=0)}function I(t,n,r){var i;if(r&&r[t]||!r&&_(n.target,t))i=O(n,t),e(n.target).trigger(i);return i}function q(t){var n=e.data(t.target,s),r,i;if(!b&&(!T||T!==n)){r="wij"+t.type;for(i in a)a[i]===t.type&&(r=i);var o=I(r,t);o&&(o.isDefaultPrevented()&&t.preventDefault(),o.isPropagationStopped()&&t.stopPropagation(),o.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}}function R(t){var n=A(t).touches,r,i,o;if(n&&n.length===1||u){r=t.target,i=M(r);if(i.hasVirtualBinding){T=x++,e.data(r,s,T),F(),B(),g=!1,o=A(t);var a=o.touches?o.touches[0]:o;v=a.pageX,m=a.pageY,I("wijmouseover",t,i),I("wijmousedown",t,i)}}}function U(e){if(w)return;g||I("wijmousecancel",e,M(e.target)),g=!0,j()}function z(t){if(w)return;var n=A(t),r=n.touches?n.touches[0]:n,i=g,s=e.wijmouse.moveDistanceThreshold;g=g||Math.abs(r.pageX-v)>s||Math.abs(r.pageY-m)>s,flags=M(t.target),g&&!i&&I("wijmousecancel",t,flags),I("wijmousemove",t,flags),j()}function W(e){if(w)return;P();var t=M(e.target),n,r;I("wijmouseup",e,t);if(!g){var i=I("wijclick",e,t);i&&i.isDefaultPrevented()&&(n=A(e),r=n.changedTouches?n.changedTouches[0]:n,y.push({touchID:T,x:r.clientX,y:r.clientY}),b=!0)}I("wijmouseout",e,t),g=!1,j()}function X(t){var n=e.data(t,i),r;if(n)for(r in n)if(n[r])return!0;return!1}function V(){}function $(t){var n=a[t];return{setup:function(r,s){X(this)||e.data(this,i,{});var o=e.data(this,i);o[t]=!0,p[t]=(p[t]||0)+1,p[t]===1&&S.bind(n,q),e(this).bind(n,V),E&&(p[N]=(p[N]||0)+1,p[N]===1&&S.bind(N,R).bind(C,W).bind(k,z).bind(L,U))},teardown:function(r,s){--p[t],p[t]||S.unbind(n,q),E&&(--p[N],p[N]||S.unbind(N,R).unbind(k,z).unbind(C,W).unbind(L,U));var o=e(this),u=e.data(this,i);u&&(u[t]=!1),o.unbind(n,V),X(this)||o.removeData(i)}}}var i="virtualMouseBindings",s="virtualTouchID",o="wijmouseover wijmousedown wijmousemove wijmouseup wijclick wijtap wijdoubletap wijtaphold wijmouseout wijmousecancel".split(" "),u=t.navigator.msPointerEnabled,a={wijmouseover:u?"MSPointerOver":"mouseover",wijmousedown:u?"MSPointerDown":"mousedown",wijmousemove:u?"MSPointerMove":"mousemove",wijmouseup:u?"MSPointerUp":"mouseup",wijmouseout:u?"MSPointerOut":"mouseout",wijmousecancel:u?"mousecancel":"mousecancel",wijclick:u?"MSGestureTap":"click",wijdoubletap:u?"MSGestureDoubleTap":"dblclick",wijtaphold:u?"MSGestureHold":"gesturehold"},f="clientX clientY pageX pageY screenX screenY".split(" "),l="clientX clientY pageX pageY screenX screenY".split(" "),c=e.event.mouseHooks?e.event.mouseHooks.props:[],h=e.event.props.concat(c),p={},d=0,v=0,m=0,g=!1,y=[],b=!1,w=!1,E="addEventListener"in n,S=e(n),x=1,T=0,u=t.navigator.msPointerEnabled,N=u?"MSPointerDown":"touchstart",C=u?"MSPointerUp":"touchend",k=u?"MSPointerMove":"touchmove",L=u?"scroll":"scroll";e.wijmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var J=0;J<o.length;J++)e.event.special[o[J]]=$(o[J]);E&&n.addEventListener("click",function(t){var n=y.length,r=t.target,i,o,u,a,f,l;if(n){i=t.clientX,o=t.clientY,threshold=e.wijmouse.clickDistanceThreshold,u=r;while(u){for(a=0;a<n;a++){f=y[a],l=0;if(u===r&&Math.abs(f.x-i)<threshold&&Math.abs(f.y-o)<threshold||e.data(u,s)===f.touchID){t.preventDefault(),t.stopPropagation();return}}u=u.parentNode}}},!0)}(jQuery,window,document),function(e,t,n){function c(t,n,r){var i=r.type;r.nativeType=r.type,r.type=n;try{e([t]).trigger(r)}finally{r.type=i}}function p(e,n){if(t.navigator.msPointerEnabled&&!e.__wijMSGesturePreInit){e.__wijMSGesturePreInit=!0;var r=new MSGesture;r.target=e,e.addEventListener("MSPointerDown",function(e){r.addPointer(e.pointerId)},!1)}}function d(t,n){var r=v(n,t);return e(n.target).trigger(r),r}function v(n,r){var i=n.type,s,o,u,a,f,l,c,p,d;s=n.originalEvent,n=e.Event(n),n.nativeType=n.type,n.type=r,o=e.event.props;if(s)for(c=o.length,a;c;)a=o[--c],n[a]=n[a]||s[a];for(p=0,d=h.length;p<d;p++)a=h[p],n[a]=n[a]||s[a];return t.navigator.msPointerEnabled&&n.rotation&&(n.rotation=n.rotation*360/Math.PI),n}e.each("touchstart touchmove touchend orientationchange throttledresize wijtap wijtaphold wijswipe wijswipeleft wijswiperight wijscrollstart wijscrollstop".split(" "),function(t,n){e.fn[n]=function(e){return e?this.bind(n,e):this.trigger(n)},e.attrFn&&(e.attrFn[n]=!0)});var r="ontouchend"in document,i="touchmove scroll",s=r?"touchstart":"mousedown",o=r?"touchend":"mouseup",u=r?"touchmove":"mousemove",a=r?"gesturestart":"gesturestart",f=r?"gesturechange":"gesturechange",l=r?"gestureend":"gestureend";t.navigator.msPointerEnabled&&(s="MSPointerDown",o="MSPointerUp",u="MSPointerMove",a="MSGestureStart",f="MSGestureChange",l="MSGestureEnd"),e.event.special.wijscrollstart={enabled:!0,setup:function(){function o(e,n){r=n,c(t,r?"wijscrollstart":"wijscrollstop",e)}var t=this,n=e(t),r,s;n.bind(i,function(t){if(!e.event.special.wijscrollstart.enabled)return;r||o(t,!0),clearTimeout(s),s=setTimeout(function(){o(t,!1)},50)})}},e.event.special.wijtap={setup:function(){var t=this,n=e(t);n.bind("wijmousedown",function(r){function u(){clearTimeout(o)}function a(){u(),n.unbind("wijclick",f).unbind("wijmouseup",u),e(document).unbind("wijmousecancel",a)}function f(e){a(),i==e.target&&c(t,"wijtap",e)}if(r.which&&r.which!==1)return!1;var i=r.target,s=r.originalEvent,o;n.bind("wijmouseup",u).bind("wijclick",f),e(document).bind("wijmousecancel",a),o=setTimeout(function(){c(t,"wijtaphold",e.Event("wijtaphold",{target:i}))},750)})}},e.event.special.wijswipe={scrollSupressionThreshold:10,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var t=this,r=e(t);r.bind(s,function(t){function f(t){if(!s)return;var n=t.originalEvent.touches?t.originalEvent.touches[0]:t;a={time:(new Date).getTime(),coords:[n.pageX,n.pageY]},Math.abs(s.coords[0]-a.coords[0])>e.event.special.wijswipe.scrollSupressionThreshold&&t.preventDefault()}var i=t.originalEvent.touches?t.originalEvent.touches[0]:t,s={time:(new Date).getTime(),coords:[i.pageX,i.pageY],origin:e(t.target)},a;r.bind(u,f).one(o,function(t){r.unbind(u,f),s&&a&&a.time-s.time<e.event.special.wijswipe.durationThreshold&&Math.abs(s.coords[0]-a.coords[0])>e.event.special.wijswipe.horizontalDistanceThreshold&&Math.abs(s.coords[1]-a.coords[1])<e.event.special.wijswipe.verticalDistanceThreshold&&s.origin.trigger("wijswipe").trigger(s.coords[0]>a.coords[0]?"wijswipeleft":"wijswiperight"),s=a=n})})}};var h="altKey ctrlKey metaKey rotation scale shiftKey target velocityX velocityY translationX translationY".split(" ");e.event.special.wijgesturestart={setup:function(){var t=this,n=e(t);p(t,"wijgesturestart"),n.bind(a,function(e){d("wijgesturestart",e)})}},e.event.special.wijgesturechange={setup:function(){var t=this,n=e(t);p(t,"wijgesturechange"),n.bind(f,function(e){d("wijgesturechange",e)})}},e.event.special.wijgestureend={setup:function(){var t=this,n=e(t);p(t,"wijgestureend"),n.bind(l,function(e){d("wijgestureend",e)})}},function(e,t){function h(){var e=i();e!==s&&(s=e,n.trigger("orientationchange"))}var n=e(t),r,i,s,o,u,a={0:!0,180:!0};if("orientation"in t&&"onorientationchange"in t){var f=t.innerWidth||e(t).width(),l=t.innerHeight||e(t).height(),c=50;o=f>l&&f-l>c,u=a[t.orientation];if(o&&u||!o&&!u)a={"-90":!0,90:!0}}e.event.special.orientationchange=r={setup:function(){if("orientation"in t&&"onorientationchange"in t&&e.mobile.orientationChangeEnabled)return!1;s=i(),n.bind("throttledresize",h)},teardown:function(){if("orientation"in t&&"onorientationchange"in t&&e.mobile.orientationChangeEnabled)return!1;n.unbind("throttledresize",h)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=i(),t.apply(this,arguments)}}},e.event.special.orientationchange.orientation=i=function(){var e=!0,n=document.documentElement;return"orientation"in t&&"onorientationchange"in t?e=a[t.orientation]:e=n&&n.clientWidth/n.clientHeight<1.1,e?"portrait":"landscape"}}(jQuery,t),function(){e.event.special.throttledresize={setup:function(){e(this).bind("resize",n)},teardown:function(){e(this).unbind("resize",n)}};var t=250,n=function(){s=(new Date).getTime(),o=s-r,o>=t?(r=s,e(this).trigger("throttledresize")):(i&&clearTimeout(i),i=setTimeout(n,t-o))},r=0,i,s,o}(),e.each({wijscrollstop:"wijscrollstart",wijtaphold:"wijtap",wijswipeleft:"wijswipe",wijswiperight:"wijswipe"},function(t,n){e.event.special[t]={setup:function(){e(this).bind(n,e.noop)}}})}(jQuery,this);